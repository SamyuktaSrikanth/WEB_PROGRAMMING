<!DOCTYPE html>
<html>
  <head>
    <title>23BCE1321</title>
    <style>
      body {
        font-family: Arial, sans-serif;
      }

      .error {
        color: red;
        font-size: 0.9em;
      }

      .success {
        color: green;
      }
      #currentTime {
        position: fixed;
        top: 10px;
        right: 10px;
        font-size: 1.2em;
        font-weight: bold;
        color: #333;
        background: #f0f0f0;
        padding: 5px 10px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body>
    <div id="currentTime"></div>

    <h2>Test JavaScript Form Validation</h2>
    <form id="testForm">
      <label>Name*:</label>
      <input type="text" name="name" maxlength="15" required />
      <span class="error" id="nameError"></span>
      <br /><br />

      <label>Address:</label>
      <textarea name="address" rows="3" cols="30" required></textarea>
      <span class="error" id="addressError"></span>
      <br /><br />

      <label>Zip Code*:</label>
      <input type="text" name="zip" maxlength="6" required />
      <span class="error" id="zipError"></span>
      <br /><br />

      <label>Country*:</label>
      <select name="country" required>
        <option value="">Please select...</option>
        <option value="India">India</option>
        <option value="USA">USA</option>
      </select>
      <span class="error" id="countryError"></span>
      <br /><br />

      <label>Gender*:</label>
      <input type="radio" name="gender" value="Male" required /> Male
      <input type="radio" name="gender" value="Female" required /> Female
      <span class="error" id="genderError"></span>
      <br /><br />

      <label>Preferences*:</label>
      <input type="checkbox" name="preferences" value="Red" /> Red
      <input type="checkbox" name="preferences" value="Green" /> Green
      <input type="checkbox" name="preferences" value="Blue" /> Blue
      <span class="error" id="preferencesError"></span>
      <br /><br />

      <label>Phone*:</label>
      <input type="text" name="phone" maxlength="10" required />
      <span class="error" id="phoneError"></span>
      <br /><br />

      <label>Email*:</label>
      <input type="email" name="email" required />
      <span class="error" id="emailError"></span>
      <br /><br />

      <label>Password*:</label>
      <input type="password" name="password" maxlength="15" required />
      <span class="error" id="passwordError"></span>
      <br /><br />

      <label>Verify Password*:</label>
      <input type="password" name="verifyPassword" required />
      <span class="error" id="verifyPasswordError"></span>
      <br /><br />

      <label>PAN No:</label>
      <input type="text" name="pan" maxlength="10" />
      <span class="error" id="panError"></span>
      <br /><br />

      <button type="button" onclick="validateForm()">SEND</button>
      <button type="reset">CLEAR</button>
    </form>
    <script>
      function updateTime() {
        const timeDiv = document.getElementById("currentTime");
        const now = new Date();
        timeDiv.textContent = `Time: ${now.toLocaleTimeString()}`;
      }
      setInterval(updateTime, 1000);
      function validateForm() {
        const form = document.forms["testForm"];
        let isValid = true;
        const name = form["name"].value;
        if (!name) {
          document.getElementById("nameError").textContent =
            "Please enter your name!";
          isValid = false;
        } else {
          document.getElementById("nameError").textContent = "";
        }
        const zip = form["zip"].value;
        if (!/^\d{6}$/.test(zip)) {
          document.getElementById("zipError").textContent =
            "Zip code must be numeric and 6 digits!";
          isValid = false;
        } else {
          document.getElementById("zipError").textContent = "";
        }
        const phone = form["phone"].value;
        if (!/^\d{10}$/.test(phone)) {
          document.getElementById("phoneError").textContent =
            "Phone must be numeric and 10 digits!";
          isValid = false;
        } else {
          document.getElementById("phoneError").textContent = "";
        }
        const email = form["email"].value;
        if (!/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(email)) {
          document.getElementById("emailError").textContent =
            "Enter a valid email!";
          isValid = false;
        } else {
          document.getElementById("emailError").textContent = "";
        }
        const password = form["password"].value;
        if (!/(?=.*\d)(?=.*[a-zA-Z])(?=.*[@#$%^&+=]).{8,15}/.test(password)) {
          document.getElementById("passwordError").textContent =
            "Password must be 8-15 characters long, contain a number, a letter, and a special character!";
          isValid = false;
        } else {
          document.getElementById("passwordError").textContent = "";
        }
        const pan = form["pan"].value;
        if (pan && !/[A-Z]{5}[0-9]{4}[A-Z]{1}/.test(pan)) {
          document.getElementById("panError").textContent =
            "PAN must follow the format: 5 letters, 4 digits, 1 letter.";
          isValid = false;
        } else {
          document.getElementById("panError").textContent = "";
        }
        if (!isValid) {
          alert("Please correct the errors in the form!");
        } else {
          alert("Form submitted successfully!");
        }
      }
    </script>
  </body>
</html>
